# Sample run scripts
This directory contains sample scripts to run the Ocean-LETKF, e.g. as used at NCEP.
Typically, the user will have their own cycling system and will only use the Ocean-LETKF
executable and perhaps the observation operators provided here in src/obs (though most centers
already have their own observation operators as well).

Typical implementation  (e.g. at NCEP, ECMWF, etc.) is to set up the obs operator to read
the observations and model equivalents generated by the existing observation processing
system, and then convert to the binary format read by the Ocean-LETKF. Then one can
execute the Ocean-LETKF executable to generate an analysis ensemble.

# Directories:
The xml/ scripts control the cycling of the data assimilation cycle  

The scripts/ directory contains the shell scripts that are called to execute:  
    model_prep.ksh  
    model.ksh  
    letkf_prep.ksh  
    letkf.ksh  

# Setting up to run:  
On a disk with large memory storage:  
Create an output directory, e.g. "/lustre/uid/OUTPUT/tmp_XYZ"  
Link the output directory to a local tmp directory, e.g. "ln -fs /lustre/uid/OUTPUT/tmp_XYZ tmp"  
Create a log directory, e.g. "/lustre/uid/OUTPUT/tmp_XYZ/log"  
Line the log directory to a local log directory, e.g. "ln -fs /lustre/uid/OUTPUT/tmp_XYZ/log log"  
Put an initial experiment directory in tmp/  
  e.g. "cp -rl /lustre/uid/OUTPUT/tmp_ABC/1990122700 tmp/"  
  note: it must contain all model RESTART directories (for each ensemble member) and letkf and/or hybrid analyses  
Also put the static files in the tmp directory  
  e.g. "cp -rl /lustre/uid/OUPUT/tmp_ABC/INIT/INPUT tmp/INIT/INPUT"  
Install rocoto if not already installed.  
Update the submit_job file with the correct directory and file names  
Update the xml script with the local drectories  
Run ./submit_job  
update the crontab with the calling line from submit_job, and the desired time interval: "crontab -e"  

# The directory ECMWF_SETUP:
The directory ECMWF_SETUP was used to test a configuration at ECMWF
for a variety of configurations using NEMO and NEMO feedback files.
This essentially sets up a working directory to run 1 analysis with LETKF,
without cycling, assuming the forecasts and observation data are already available.
View README files contained inside for guidance.
